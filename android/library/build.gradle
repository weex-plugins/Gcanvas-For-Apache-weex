def deployVersion = System.getProperty('deployVersion')
if (null != deployVersion) {
    version = deployVersion
}
apply from: 'http://mirrors.taobao.net/mirror/gradle/android-parent.gradle'
buildscript {
    repositories {
        mavenLocal()
        maven {
            url "http://mvnrepo.alibaba-inc.com/mvn/repository"
        }
        jcenter()
    }
    dependencies {
      classpath('com.taobao.android.tools.build:gradle:1.3.3.2') {
            exclude module: 'guava'
        }
        classpath 'com.google.guava:guava:17.0'
        classpath("com.taobao.android:weexplugin-gradle-plugin:1+")
    }
}
allprojects {
    repositories {
        maven { url 'http://mvnrepo.alibaba-inc.com/mvn/repository' }
        mavenLocal()
        mavenCentral()
    }
}
apply plugin: 'com.taobao.android.weex.plugin.gradle'
repositories {
    mavenLocal()
    jcenter()
    maven {
        url "http://mvnrepo.alibaba-inc.com/mvn/repository"
    }

}
android {
    compileSdkVersion 23
    buildToolsVersion '23.0.2'
    defaultConfig {
        minSdkVersion 14
        targetSdkVersion 23
        versionCode 1
        versionName "1.0"
        consumerProguardFiles 'proguard-rules.pro'
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_7
        targetCompatibility JavaVersion.VERSION_1_7
    }
    lintOptions {
        abortOnError false
    }
}
dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    testCompile 'junit:junit:4.12'
    //provided 'com.taobao.android.gcanvas:gcanvas_library:1.4.2.31@aar'
    provided 'com.taobao.android.gcanvas:gcanvas_library:1.4.2.33-SNAPSHOT@aar'
    provided 'com.taobao.android:weexplugin-annotation:1.0.6'
    provided "com.taobao.android:weex_sdk:0.11.2.17"
//    provided "com.taobao.android:weexplugin-processor:1.0.4.3-SNAPSHOT"

}
publishing {
    publications {
        maven(MavenPublication) {
            artifactId "weexplugin-gcanvas"
            artifact "${project.buildDir}/outputs/aar/${project.name}-release.aar"
        }
    }
}
